var n=Object.defineProperty;var u=(i,e,t)=>e in i?n(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var s=(i,e,t)=>(u(i,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const d of l)if(d.type==="childList")for(const a of d.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(l){const d={};return l.integrity&&(d.integrity=l.integrity),l.referrerPolicy&&(d.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?d.credentials="include":l.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function r(l){if(l.ep)return;l.ep=!0;const d=t(l);fetch(l.href,d)}})();function o(){return{H:Math.floor(Math.random()*360),S:Math.floor(Math.random()*100),L:20+Math.floor(Math.random()*70)}}function c(i){return`hsl(${i.H}, ${i.S}%, ${i.L}%)`}class m{constructor(){s(this,"observers",[])}addObserver(e){this.observers.push(e),e.update()}notifyObservers(){this.observers.forEach(e=>e.update())}}class w extends m{constructor(){super();s(this,"swatchList",[]);s(this,"selectedSwatch",0);s(this,"selectedColor",o());s(this,"defaultSwatches",10);s(this,"minSwatches",1);s(this,"maxSwatches",16);for(let t=0;t<this.defaultSwatches;t++)this.addSwatch();this.updateSelected(1)}updateSelected(t){this.selectedSwatch=t,this.selectedColor=this.swatchList[this.selectedSwatch-1],this.notifyObservers()}updateHue(t){this.selectedColor.H=t,this.swatchList[this.selectedSwatch-1].H=t,this.notifyObservers()}updateSat(t){this.selectedColor.S=t,this.swatchList[this.selectedSwatch-1].S=t,this.notifyObservers()}updateLum(t){this.selectedColor.L=t,this.swatchList[this.selectedSwatch-1].L=t,this.notifyObservers()}addSwatch(){this.swatchList.length<this.maxSwatches&&(this.selectedColor=o(),this.swatchList.push(this.selectedColor),this.selectedSwatch=this.swatchList.length,this.notifyObservers())}deleteSwatch(){if(this.swatchList.length>this.minSwatches){let t=[];for(let r=0;r<this.swatchList.length;r++)r!=this.selectedSwatch-1&&t.push(this.swatchList[r]);this.swatchList=t,this.selectedSwatch=this.swatchList.length,this.selectedColor=this.swatchList[this.selectedSwatch-1],this.notifyObservers()}}}class f{constructor(e){this.model=e}toolBarButtonPress(e){e==="add"?this.model.addSwatch():e==="delete"&&this.model.deleteSwatch()}}class S{constructor(e){this.model=e}swatchPressed(e){this.model.updateSelected(e)}}class L{constructor(e,t){s(this,"addButton",document.getElementById("add"));s(this,"deleteButton",document.getElementById("delete"));this.model=e,this.addButton.addEventListener("click",()=>{t.toolBarButtonPress("add")}),this.deleteButton.addEventListener("click",()=>{t.toolBarButtonPress("delete")}),this.model.addObserver(this)}update(){this.deleteButton.disabled=this.model.swatchList.length<2,this.addButton.disabled=this.model.swatchList.length>15}}class v{constructor(e){s(this,"label",document.getElementById("status"));this.model=e,this.model.addObserver(this)}update(){this.label.innerHTML=`${this.model.swatchList.length} swatches (selected #${this.model.selectedSwatch})`}}class p{constructor(e,t){s(this,"swatchList",document.getElementById("swatchlist"));this.model=e,this.controller=t,this.model.addObserver(this)}update(){this.swatchList.innerHTML="";for(let e=1;e<=this.model.swatchList.length;e++){let t=document.createElement("div");t.style.backgroundColor=c(this.model.swatchList[e-1]),t.className=e==this.model.selectedSwatch?"selected swatch":"swatch",t.addEventListener("click",()=>{this.controller.swatchPressed(e)}),this.swatchList.appendChild(t)}}}class g{constructor(e){s(this,"view",document.getElementById("view"));s(this,"editor",document.getElementById("editor"));s(this,"hueTextfield",document.getElementById("huetextfield"));s(this,"hueSlider",document.getElementById("hueslider"));s(this,"satTextfield",document.getElementById("sattextfield"));s(this,"satSlider",document.getElementById("satslider"));s(this,"lumTextfield",document.getElementById("lumtextfield"));s(this,"lumSlider",document.getElementById("lumslider"));this.model=e,this.createEventListener("hue",e,this.hueTextfield,0,360),this.createEventListener("hue",e,this.hueSlider,0,360),this.createEventListener("sat",e,this.satTextfield,0,100),this.createEventListener("sat",e,this.satSlider,0,100),this.createEventListener("lum",e,this.lumTextfield,0,100),this.createEventListener("lum",e,this.lumSlider,0,100),this.model.addObserver(this)}createEventListener(e,t,r,l,d){r.addEventListener("input",()=>{parseInt(r.value)>d&&(r.value=d.toString()),r.value==""&&(r.value=l.toString()),e=="hue"&&t.updateHue(parseInt(r.value)),e=="sat"&&t.updateSat(parseInt(r.value)),e=="lum"&&t.updateLum(parseInt(r.value))})}update(){this.view.style.backgroundColor=c(this.model.selectedColor),this.hueTextfield.value=this.hueSlider.value=this.model.selectedColor.H.toString(),this.satTextfield.value=this.satSlider.value=this.model.selectedColor.S.toString(),this.lumTextfield.value=this.lumSlider.value=this.model.selectedColor.L.toString()}}let h=new w,y=new f(h);new L(h,y);new g(h);let E=new S(h);new p(h,E);new v(h);
